
resume = true
cache  = 'deep'

nextflow.enable.dsl = 1

params.cactus_dir =  "/home/jersal/workspace/cactus"
params.data_dir =  "${params.cactus_dir}/data"
singularity_dir = '/home/jersal/workspace/singularity_containers'

singularity {
  enabled = true
  autoMounts = true
  cacheDir = singularity_dir
  libraryDir = singularity_dir
  runOptions = "--containall --cleanenv --home ${PWD} --workdir ${params.cactus_dir}/tmp"
}

includeConfig '../conf/containers.config'
includeConfig    'conf/containers.config'

params.annotationhub_cache = "${params.data_dir}/util/annotationhub_cache"





//// report files
import java.text.SimpleDateFormat
def date     = new Date()
sdf          = new SimpleDateFormat("MM-dd-yyyy_HH_mm_ss")
current_date = sdf.format(date)

params.report_dir = "${params.data_dir}/util/report"

timeline {
	enabled = true
	file    = "${params.report_dir}/${current_date}/timeline.html"
}

report {
	enabled = true
	file    = "${params.report_dir}/${current_date}/report.html"
}

dag {
	enabled = true
  file    = "${params.report_dir}/${current_date}/dag.mmd"
}

